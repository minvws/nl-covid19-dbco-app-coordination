<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="344px" preserveAspectRatio="none" style="width:426px;height:344px;" version="1.1" viewBox="0 0 426 344" width="426px" zoomAndPan="magnify"><defs><filter height="300%" id="f30cae14rtjoe" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="67.4883" y2="276.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="211" x2="211" y1="67.4883" y2="276.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="399.5" x2="399.5" y1="67.4883" y2="276.3516"/><rect fill="#FEFECE" filter="url(#f30cae14rtjoe)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="58" x="5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="12" y="52.5352">Bridge</text><rect fill="#FEFECE" filter="url(#f30cae14rtjoe)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="58" x="5" y="275.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="12" y="295.8867">Bridge</text><rect fill="#FEFECE" filter="url(#f30cae14rtjoe)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="144" x="137" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="144" y="52.5352">HealthAuthorityAPI</text><rect fill="#FEFECE" filter="url(#f30cae14rtjoe)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="144" x="137" y="275.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="144" y="295.8867">HealthAuthorityAPI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="374.5" y="64.5352">MySQL</text><path d="M382,15 C382,5 400,5 400,5 C400,5 418,5 418,15 L418,41 C418,51 400,51 400,51 C400,51 382,51 382,41 L382,15 " fill="#FEFECE" filter="url(#f30cae14rtjoe)" style="stroke:#000000;stroke-width:1.5;"/><path d="M382,15 C382,25 400,25 400,25 C400,25 418,25 418,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="374.5" y="288.8867">MySQL</text><path d="M382,301.8398 C382,291.8398 400,291.8398 400,291.8398 C400,291.8398 418,291.8398 418,301.8398 L418,327.8398 C418,337.8398 400,337.8398 400,337.8398 C400,337.8398 382,337.8398 382,327.8398 L382,301.8398 " fill="#FEFECE" filter="url(#f30cae14rtjoe)" style="stroke:#000000;stroke-width:1.5;"/><path d="M382,301.8398 C382,311.8398 400,311.8398 400,311.8398 C400,311.8398 418,311.8398 418,301.8398 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="199,94.7988,209,98.7988,199,102.7988,203,98.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36" x2="205" y1="98.7988" y2="98.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="43" y="94.0566">POST /v1/cases/{token}</text><polygon fill="#A80036" points="388,124.1094,398,128.1094,388,132.1094,392,128.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="211" x2="394" y1="128.1094" y2="128.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="218" y="123.3672">Get client for token</text><polygon fill="#A80036" points="222,153.4199,212,157.4199,222,161.4199,218,157.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="216" x2="399" y1="157.4199" y2="157.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="228" y="152.6777">Case UUID / shared secret</text><line style="stroke:#A80036;stroke-width:1.0;" x1="211" x2="253" y1="186.7305" y2="186.7305"/><line style="stroke:#A80036;stroke-width:1.0;" x1="253" x2="253" y1="186.7305" y2="199.7305"/><line style="stroke:#A80036;stroke-width:1.0;" x1="212" x2="253" y1="199.7305" y2="199.7305"/><polygon fill="#A80036" points="222,195.7305,212,199.7305,222,203.7305,218,199.7305" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="218" y="181.9883">Decrypt case data</text><polygon fill="#A80036" points="388,225.041,398,229.041,388,233.041,392,229.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="211" x2="394" y1="229.041" y2="229.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="218" y="224.2988">Store case results</text><polygon fill="#A80036" points="47,254.3516,37,258.3516,47,262.3516,43,258.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="41" x2="210" y1="258.3516" y2="258.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="53" y="253.6094">No Content</text><!--MD5=[b65eb769699815098cbd248474454289]
@startuml
participant Bridge             as Bridge
participant HealthAuthorityAPI as API
database    MySQL              as MySQL

Bridge ->  API    : POST /v1/cases/{token}
API    ->  MySQL  : Get client for token
MySQL  - -> API    : Case UUID / shared secret
API    ->  API    : Decrypt case data
API    ->  MySQL  : Store case results
API    - -> Bridge : No Content
@enduml

PlantUML version 1.2021.5(Sun Apr 25 13:20:28 CEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>