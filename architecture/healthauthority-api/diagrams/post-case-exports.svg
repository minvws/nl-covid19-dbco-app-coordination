<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="331px" preserveAspectRatio="none" style="width:845px;height:331px;" version="1.1" viewBox="0 0 845 331" width="845px" zoomAndPan="magnify"><defs><filter height="300%" id="f1l1wka39nju8m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="45" x2="45" y1="67.4883" y2="263.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="296" x2="296" y1="67.4883" y2="263.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="452.5" x2="452.5" y1="67.4883" y2="263.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="531.5" x2="531.5" y1="67.4883" y2="263.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="802" x2="802" y1="67.4883" y2="263.3516"/><rect fill="#FEFECE" filter="url(#f1l1wka39nju8m)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="12" y="52.5352">PortalAPI</text><rect fill="#FEFECE" filter="url(#f1l1wka39nju8m)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="5" y="262.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="12" y="282.8867">PortalAPI</text><rect fill="#FEFECE" filter="url(#f1l1wka39nju8m)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="144" x="222" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="229" y="52.5352">HealthAuthorityAPI</text><rect fill="#FEFECE" filter="url(#f1l1wka39nju8m)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="144" x="222" y="262.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="229" y="282.8867">HealthAuthorityAPI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="427.5" y="64.5352">MySQL</text><path d="M435,15 C435,5 453,5 453,5 C453,5 471,5 471,15 L471,41 C471,51 453,51 453,51 C453,51 435,51 435,41 L435,15 " fill="#FEFECE" filter="url(#f1l1wka39nju8m)" style="stroke:#000000;stroke-width:1.5;"/><path d="M435,15 C435,25 453,25 453,25 C453,25 471,25 471,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="427.5" y="275.8867">MySQL</text><path d="M435,288.8398 C435,278.8398 453,278.8398 453,278.8398 C453,278.8398 471,278.8398 471,288.8398 L471,314.8398 C471,324.8398 453,324.8398 453,324.8398 C453,324.8398 435,324.8398 435,314.8398 L435,288.8398 " fill="#FEFECE" filter="url(#f1l1wka39nju8m)" style="stroke:#000000;stroke-width:1.5;"/><path d="M435,288.8398 C435,298.8398 453,298.8398 453,298.8398 C453,298.8398 471,298.8398 471,288.8398 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1l1wka39nju8m)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="82" x="488.5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="495.5" y="52.5352">PrivateAPI</text><rect fill="#FEFECE" filter="url(#f1l1wka39nju8m)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="82" x="488.5" y="262.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="495.5" y="282.8867">PrivateAPI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="761" y="64.5352">SluiceRedis</text><path d="M784.5,15 C784.5,5 802.5,5 802.5,5 C802.5,5 820.5,5 820.5,15 L820.5,41 C820.5,51 802.5,51 802.5,51 C802.5,51 784.5,51 784.5,41 L784.5,15 " fill="#FEFECE" filter="url(#f1l1wka39nju8m)" style="stroke:#000000;stroke-width:1.5;"/><path d="M784.5,15 C784.5,25 802.5,25 802.5,25 C802.5,25 820.5,25 820.5,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="761" y="275.8867">SluiceRedis</text><path d="M784.5,288.8398 C784.5,278.8398 802.5,278.8398 802.5,278.8398 C802.5,278.8398 820.5,278.8398 820.5,288.8398 L820.5,314.8398 C820.5,324.8398 802.5,324.8398 802.5,324.8398 C802.5,324.8398 784.5,324.8398 784.5,314.8398 L784.5,288.8398 " fill="#FEFECE" filter="url(#f1l1wka39nju8m)" style="stroke:#000000;stroke-width:1.5;"/><path d="M784.5,288.8398 C784.5,298.8398 802.5,298.8398 802.5,298.8398 C802.5,298.8398 820.5,298.8398 820.5,288.8398 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="284,94.7988,294,98.7988,284,102.7988,288,98.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="45" x2="290" y1="98.7988" y2="98.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="52" y="94.0566">POST /v1/cases/{caseUuid}/exports</text><polygon fill="#A80036" points="441,124.1094,451,128.1094,441,132.1094,445,128.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="296" x2="447" y1="128.1094" y2="128.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="303" y="123.3672">Get case data / tasks</text><polygon fill="#A80036" points="307,153.4199,297,157.4199,307,161.4199,303,157.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="301" x2="452" y1="157.4199" y2="157.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="313" y="152.6777">Case data / tasks</text><polygon fill="#A80036" points="519.5,182.7305,529.5,186.7305,519.5,190.7305,523.5,186.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="296" x2="525.5" y1="186.7305" y2="186.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="303" y="181.9883">POST /v1/cases/{token}</text><polygon fill="#A80036" points="790.5,212.041,800.5,216.041,790.5,220.041,794.5,216.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="531.5" x2="796.5" y1="216.041" y2="216.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="538.5" y="211.2988">Store sealed case data / tasks by token</text><polygon fill="#A80036" points="56,241.3516,46,245.3516,56,249.3516,52,245.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="50" x2="295" y1="245.3516" y2="245.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="62" y="240.6094">No content</text><!--MD5=[08e649f715866722d5b136e513d202bd]
@startuml
participant PortalAPI          as PortalAPI
participant HealthAuthorityAPI as HAAPI
database    MySQL              as MySQL
participant PrivateAPI         as PrivateAPI
database    SluiceRedis        as Redis

PortalAPI  ->  HAAPI      : POST /v1/cases/{caseUuid}/exports
HAAPI      ->  MySQL      : Get case data / tasks
MySQL      - -> HAAPI      : Case data / tasks
HAAPI      ->  PrivateAPI : POST /v1/cases/{token}
PrivateAPI ->  Redis      : Store sealed case data / tasks by token
HAAPI      - -> PortalAPI  : No content
@enduml

PlantUML version 1.2021.5(Sun Apr 25 13:20:28 CEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>